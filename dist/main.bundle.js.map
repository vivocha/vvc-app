{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/autoscroll.directive.ts","webpack:///./src/app/chat-box/chat-box.component.ts","webpack:///./src/app/chat-message/chat-message.component.ts","webpack:///./src/app/close-modal/close-modal.component.ts","webpack:///./src/app/core/core.module.ts","webpack:///./src/app/core/core.reducers.ts","webpack:///./src/app/dc-viewer/dc-viewer.component.ts","webpack:///./src/app/emoji-selector/emoji-selector.component.ts","webpack:///./src/app/file-uploader/file-uploader.component.ts","webpack:///./src/app/form/form.component.ts","webpack:///./src/app/fullscreen/fullscreen.component.ts","webpack:///./src/app/inc-dc/inc-dc.component.ts","webpack:///./src/app/incoming-message/incoming-message.component.ts","webpack:///./src/app/initial-data/initial-data.component.ts","webpack:///./src/app/minimized/minimized.component.ts","webpack:///./src/app/no-chat/no-chat.component.ts","webpack:///./src/app/queue/queue.component.ts","webpack:///./src/app/survey/survey.component.ts","webpack:///./src/app/topbar/topbar.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/core/core.interfaces.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/chat-box/chat-box.component.html","webpack:///./src/app/chat-message/chat-message.component.html","webpack:///./src/app/close-modal/close-modal.component.html","webpack:///./src/app/dc-viewer/dc-viewer.component.html","webpack:///./src/app/emoji-selector/emoji-selector.component.html","webpack:///./src/app/file-uploader/file-uploader.component.html","webpack:///./src/app/form/form.component.html","webpack:///./src/app/fullscreen/fullscreen.component.html","webpack:///./src/app/inc-dc/inc-dc.component.html","webpack:///./src/app/incoming-message/incoming-message.component.html","webpack:///./src/app/initial-data/initial-data.component.html","webpack:///./src/app/media-tools/media-tools.component.html","webpack:///./src/app/minimized/minimized.component.html","webpack:///./src/app/no-chat/no-chat.component.html","webpack:///./src/app/queue/queue.component.html","webpack:///./src/app/survey/survey.component.html","webpack:///./src/app/topbar/topbar.component.html","webpack:///./src/app/core/contact.service.ts","webpack:///./src/app/core/dc.service.ts","webpack:///./src/app/core/window.service.ts","webpack:///./src/app/media-tools/media-tools.component.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 101;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 101\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {WindowRef} from './core/window.service';\nimport {VvcContactService} from './core/contact.service';\nimport {Store} from '@ngrx/store';\nimport {VvcWidgetState, AppState, VvcOffer} from './core/core.interfaces';\nimport {TranslateService} from '@ngx-translate/core';\nimport {MediaToolsComponent} from './media-tools/media-tools.component';\n\n@Component({\n  selector: 'vvc-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent implements OnInit {\n\n  private window;\n  private servId: string;\n  private lang = 'en';\n  public type = 'chat';\n  public selectedDataMessage;\n  private closeModal = false;\n  private initialConf;\n\n  @ViewChild(MediaToolsComponent) mediaTools;\n  callTimerInterval;\n  callTimer = 0;\n  wasFullScreen = false;\n\n  public widgetState: VvcWidgetState;\n  public messages: Array<any>;\n\n  constructor(private wref: WindowRef,\n              private cserv: VvcContactService,\n              private store: Store<AppState>,\n              private translate: TranslateService) {\n    this.window = wref.nativeWindow;\n    this.checkForVivocha();\n  }\n  ngOnInit() {\n    this.window.parent.postMessage('vvc-maximize-iframe', '*');\n    this.bindStores();\n    this.cserv.voiceStart.subscribe( () => {\n      this.startTimer();\n    });\n  }\n  abandon() {\n    this.window.parent.postMessage('vvc-close-iframe', '*');\n  }\n  acceptIncomingRequest(evt) {\n    this.startTimer();\n    this.cserv.acceptOffer(evt);\n  }\n  addLocalVideo() {\n    this.cserv.addLocalVideo();\n  }\n  bindStores() {\n    this.store.subscribe( state => {\n      this.widgetState = <VvcWidgetState> state.widgetState;\n      this.messages = state.messages;\n      if (this.wasFullScreen && this.widgetState.video === false) {\n        this.setNormalScreen();\n      }\n    });\n  }\n  checkForVivocha() {\n    if (this.window['vivocha'] && this.window['vivocha'].getContact) {\n      this.cserv.init(this.window['vivocha']);\n      this.parseIframeUrl();\n    } else {\n      setTimeout( () => this.checkForVivocha(), 500);\n    }\n  }\n  closeContact() {\n    this.cserv.closeContact();\n    // this.window.parent.postMessage('vvc-close-iframe', '*');\n    if (this.widgetState.hasSurvey) {\n      this.cserv.showSurvey(this.widgetState.surveyId, this.widgetState.askForTranscript);\n    } else {\n      this.window.parent.postMessage('vvc-close-iframe', '*');\n    }\n  }\n  closeOnSurvey() {\n    this.window.parent.postMessage('vvc-close-iframe', '*');\n  }\n  denyIncomingRequest(media) {\n    this.cserv.denyOffer(media);\n  }\n  dismissCloseModal() {\n    this.closeModal = false;\n  }\n  download(url) {\n    this.window.open(url, '_blank');\n  }\n  getInitialOffer(): VvcOffer {\n    switch (this.type) {\n      case 'voice': return {\n        Voice: { rx: 'required', tx: 'required', engine: 'WebRTC'},\n        Sharing: { rx: 'required', tx: 'required'}\n      };\n      case 'video': return {\n        Video: { rx: 'required', tx: 'required', engine: 'WebRTC'},\n        Voice: { rx: 'required', tx: 'required', engine: 'WebRTC'},\n        Sharing: { rx: 'required', tx: 'required'}\n      };\n      default: return { Chat: { rx: 'required', tx: 'required'}, Sharing: { rx: 'required', tx: 'required'} };\n    }\n  }\n  hangup() {\n    this.stopTimer();\n    this.cserv.hangup();\n  }\n  hideDataCollectionPanel() {\n    this.store.dispatch({ type: 'SHOW_DATA_COLLECTION', payload: false });\n  }\n  leave() {\n    this.cserv.closeContact();\n    this.window.parent.postMessage('vvc-close-iframe', '*');\n  }\n  loadCampaignSettings() {\n    const initialOffer = this.getInitialOffer();\n    this.initialConf = {\n      serv_id: this.servId,\n      type: this.type,\n      nick: 'Marcolino',\n      initial_offer: initialOffer,\n      opts: { // campaign /service options\n        media: {\n          Video : 'visitor',\n          Voice : 'visitor'\n        },\n        survey: {\n          dataToCollect: 'schema#survey-id',\n          sendTranscript: 'ask'\n        }\n        ,\n        dataCollection: {\n          dataToCollect: 'schema#data-id'\n        }\n      }\n    };\n    if (this.initialConf.opts.dataCollection) {\n      console.log('should collect data collection');\n      this.cserv.collectInitialData(this.initialConf);\n    } else {\n      console.log('creating the contact');\n      this.cserv.createContact(this.initialConf);\n    }\n  }\n  minimize(state) {\n    this.store.dispatch({ type: 'MINIMIZE', payload: state });\n    (state) ? this.window.parent.postMessage('vvc-minimize-iframe', '*')\n            : this.window.parent.postMessage('vvc-maximize-iframe', '*');\n  }\n  parseIframeUrl() {\n    const hash = this.window.location.hash;\n    if (hash.indexOf(';') !== -1) {\n      const hashParts = this.window.location.hash.substr(2).split(';');\n      this.servId = hashParts[0];\n      this.lang = hashParts[1].split('=')[1];\n      this.type = hashParts[2].split('=')[1];\n      this.translate.getTranslation( this.lang );\n      this.translate.setDefaultLang('en');\n      this.translate.use(this.lang);\n      this.loadCampaignSettings();\n    }\n  }\n  removeLocalVideo() {\n    this.cserv.removeLocalVideo();\n  }\n  sendAttachment(evt) {\n    console.log('sending attachment', evt.text, evt.file);\n    if (evt.file) {\n      this.cserv.sendAttachment({ file: evt.file, text: evt.text});\n    }\n  }\n  sendChatMessage(text) {\n    if (text !== '') {\n      this.cserv.sendText(text);\n    }\n  }\n  sendDataCollection(obj) {\n    this.cserv.sendDataCollection(obj);\n  }\n  setChatVisibility(visibility: boolean) {\n    this.store.dispatch({ type: 'CHATVISIBILITY', payload: visibility});\n  }\n  setFullScreen() {\n    this.wasFullScreen = true;\n    this.store.dispatch({ type: 'FULLSCREEN', payload: true});\n    this.window.parent.postMessage('vvc-fullscreen-on', '*');\n  }\n  setMute(mute: boolean) {\n    this.cserv.muteAudio(mute);\n  }\n  setNormalScreen() {\n    this.wasFullScreen = false;\n    this.store.dispatch({ type: 'FULLSCREEN', payload: false});\n    this.window.parent.postMessage('vvc-fullscreen-off', '*');\n  }\n  showCloseModal(isContactClosed) {\n    if (isContactClosed) {\n      if (this.widgetState.hasSurvey) {\n        this.cserv.showSurvey(this.widgetState.surveyId, this.widgetState.askForTranscript);\n      } else {\n        this.window.parent.postMessage('vvc-close-iframe', '*');\n      }\n    } else {\n      this.closeModal = true;\n    }\n  }\n  showDataCollection(message) {\n    this.selectedDataMessage = message;\n  }\n  startTimer() {\n    this.stopTimer();\n    this.callTimerInterval = setInterval( () => {\n      this.callTimer++;\n      if (this.mediaTools) {\n        this.mediaTools.setTime(this.callTimer);\n      }\n    }, 1000);\n  }\n  stopTimer() {\n    clearInterval(this.callTimerInterval);\n    this.callTimer = 0;\n  }\n  submitInitialData() {\n    this.cserv.sendData(this.initialConf);\n  }\n  syncDataCollection(obj) {\n    const dc = obj.dataCollection;\n    this.cserv.syncDataCollection(dc);\n  }\n  upgradeMedia(media: string) {\n    const startedWith = (this.widgetState.voice) ? 'voice' : media;\n    this.cserv.askForUpgrade(media, startedWith.toUpperCase()).then( () => {\n      this.startTimer();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpModule, Http} from '@angular/http';\nimport {TranslateModule, TranslateLoader} from '@ngx-translate/core';\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\n\nimport {CoreModule} from './core/core.module';\nimport { AppComponent } from './app.component';\nimport { TopbarComponent } from './topbar/topbar.component';\nimport {ChatMessageComponent} from './chat-message/chat-message.component';\nimport {IncomingMessageComponent} from './incoming-message/incoming-message.component';\nimport { MediaToolsComponent } from './media-tools/media-tools.component';\nimport { ChatBoxComponent } from './chat-box/chat-box.component';\nimport { FileUploaderComponent } from './file-uploader/file-uploader.component';\nimport { EmojiSelectorComponent } from './emoji-selector/emoji-selector.component';\nimport {Angular2AutoScroll} from './autoscroll.directive';\nimport { CloseModalComponent } from './close-modal/close-modal.component';\nimport {QueueComponent} from './queue/queue.component';\nimport { FullscreenComponent } from './fullscreen/fullscreen.component';\nimport { SurveyComponent } from './survey/survey.component';\nimport { InitialDataComponent } from './initial-data/initial-data.component';\nimport { IncDcComponent } from './inc-dc/inc-dc.component';\nimport { FormComponent } from './form/form.component';\nimport { DcViewerComponent } from './dc-viewer/dc-viewer.component';\nimport { MinimizedComponent } from './minimized/minimized.component';\nimport { NoChatComponent } from './no-chat/no-chat.component';\n\n\nexport function createTranslateLoader(http: Http) {\n  return new TranslateHttpLoader(http, '/assets/xl8/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    QueueComponent,\n    TopbarComponent,\n    ChatMessageComponent,\n    IncomingMessageComponent,\n    MediaToolsComponent,\n    ChatBoxComponent,\n    FileUploaderComponent,\n    EmojiSelectorComponent,\n    Angular2AutoScroll,\n    CloseModalComponent,\n    FullscreenComponent,\n    SurveyComponent,\n    InitialDataComponent,\n    IncDcComponent,\n    FormComponent,\n    DcViewerComponent,\n    MinimizedComponent,\n    NoChatComponent\n  ],\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (createTranslateLoader),\n        deps: [Http]\n      }\n    }),\n    FormsModule,\n    HttpModule,\n    CoreModule\n  ],\n  providers: [\n\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Directive, ElementRef, HostListener, AfterContentInit, Input, OnDestroy} from \"@angular/core\";\n\n@Directive({\n    selector: '[angular2-auto-scroll]'\n})\nexport class Angular2AutoScroll implements AfterContentInit, OnDestroy {\n    @Input('lock-y-offset') lockYOffset = 10;\n    @Input('observe-attributes') observeAttributes: string = \"false\";\n\n    private nativeElement: HTMLElement;\n    private isLocked = false;\n    private mutationObserver: MutationObserver;\n\n    constructor(element: ElementRef) {\n        this.nativeElement = element.nativeElement;\n    }\n\n    @HostListener('scroll')\n    private scrollHandler() {\n        const scrollFromBottom = this.nativeElement.scrollHeight - this.nativeElement.scrollTop - this.nativeElement.clientHeight;\n        this.isLocked = scrollFromBottom > this.lockYOffset;\n    }\n\n    getObserveAttributes(): boolean {\n        return this.observeAttributes !== '' && this.observeAttributes.toLowerCase() !== 'false';\n    }\n\n    ngAfterContentInit(): void {\n        this.mutationObserver = new MutationObserver(() => {\n            if (!this.isLocked) {\n                this.nativeElement.scrollTop = this.nativeElement.scrollHeight;\n            }\n        });\n        this.mutationObserver.observe(this.nativeElement, {\n            childList: true,\n            subtree: true,\n            attributes: this.getObserveAttributes()\n        });\n    }\n\n    ngOnDestroy() {\n        this.mutationObserver.disconnect();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/autoscroll.directive.ts","import {Component, OnInit, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'vvc-chat-box',\n  templateUrl: './chat-box.component.html'\n})\nexport class ChatBoxComponent implements OnInit {\n\n  emojiPanel = false;\n  uploadPanel = false;\n  textAreaRows = 1;\n\n  @Output() message = new EventEmitter();\n  @Output() upload = new EventEmitter();\n  @Output() emoji = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n  closeAllPanels() {\n    this.emojiPanel = false;\n    this.uploadPanel = false;\n  }\n  sendMessage(textArea: HTMLTextAreaElement) {\n    textArea.value = textArea.value.replace(/\\n$/, '');\n    if (textArea.value !== '') {\n      this.message.emit(textArea.value);\n      textArea.value = '';\n      this.textAreaRows = 1;\n    }\n  }\n  toggleEmojiTool() {\n    this.uploadPanel = false;\n    return this.emojiPanel = !this.emojiPanel;\n  }\n  toggleUploadTool() {\n    this.emojiPanel = false;\n    return this.uploadPanel = !this.uploadPanel;\n  }\n  calcRows(chatInput) {\n    /** TODO: find a better solution **/\n    const h = chatInput.scrollHeight;\n    if (h < 18) {\n      this.textAreaRows = 1;\n    }\n    if (h > 37) {\n      this.textAreaRows = 2;\n    }\n    if (h > 57) {\n      this.textAreaRows = 3;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-box/chat-box.component.ts","import {\n  Component, OnInit, Input, EventEmitter, Output\n} from '@angular/core';\n\n@Component({\n  selector: 'vvc-chat-message',\n  templateUrl: './chat-message.component.html'\n})\nexport class ChatMessageComponent implements OnInit {\n  @Input() message;\n  @Output() download = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n  isImage() {\n    return (((this.message.meta && this.message.meta.mimetype) || '').toLowerCase().split('/') || [])[0] === 'image';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chat-message/chat-message.component.ts","import {Component, OnInit, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'vvc-close-modal',\n  templateUrl: './close-modal.component.html'\n})\nexport class CloseModalComponent implements OnInit {\n\n  @Output() close = new EventEmitter();\n  @Output() cancel = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/close-modal/close-modal.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {WindowRef} from './window.service';\nimport {VvcContactService} from './contact.service';\nimport {StoreModule} from '@ngrx/store';\nimport {widgetState, messages} from './core.reducers';\nimport {VvcDataCollectionService} from './dc.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    StoreModule.provideStore({widgetState, messages})\n  ],\n  declarations: [],\n  providers: [\n    WindowRef,\n    { provide: VvcContactService, useClass: VvcContactService },\n    { provide: VvcDataCollectionService, useClass: VvcDataCollectionService}\n  ]\n})\nexport class CoreModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/core.module.ts","import {VvcWidgetState, VvcMessage, VvcDataCollection} from './core.interfaces';\nconst initialWidgetState: VvcWidgetState = {\n    chat: false,\n    chatVisibility: true,\n    closed: false,\n    dataCollections: {},\n    error: false,\n    fullScreen: false,\n    lastError: '',\n    state: 'initializing',\n    mediaOffering: false,\n    minimized: false,\n    mute: false,\n    mute_in_progress: false,\n    mobile: false,\n    not_read: 0,\n    sharing: false,\n    topBarExpanded: true,\n    video: false,\n    voice: false\n};\nconst extractInitialOpts = (opts) => {\n    const newOpts: {\n        canAddVideo: boolean,\n        canAddVoice: boolean,\n        hasSurvey: boolean,\n        surveyId: string,\n        askForTranscript: boolean\n    } = {\n        canAddVideo: (opts.media && opts.media.Video && opts.media.Video === 'visitor'),\n        canAddVoice: (opts.media && opts.media.Voice && opts.media.Voice === 'visitor'),\n        hasSurvey: !!(opts.survey),\n        surveyId: (opts.survey && opts.survey.dataToCollect),\n        askForTranscript: (opts.survey && opts.survey.sendTranscript === 'ask')\n    };\n    return newOpts;\n};\nconst extractStateFromMedia = (payload) => {\n  const newState: {\n      state?: string;\n      chat?: boolean,\n      had_chat?: boolean,\n      voice?: boolean,\n      video?: boolean,\n      video_rx?: boolean,\n      video_tx?: boolean,\n      sharing?: boolean\n  } = {\n      chat: false,\n      voice: false,\n      video: false,\n      video_rx: undefined,\n      video_tx: undefined,\n      sharing: false,\n  };\n  if (payload.Chat && payload.Chat['tx'] && payload.Chat['rx']) {\n    newState.chat = true;\n    newState.had_chat = true;\n  }\n  if (payload.Sharing && payload.Sharing['tx'] && payload.Sharing['rx']) {\n    newState.sharing = true;\n  }\n  if (payload.Voice && payload.Voice['tx'] && payload.Voice['rx']) {\n      if (payload.Voice['data']\n      && payload.Voice['data']['tx_stream']\n      && payload.Voice['data']['rx_stream']) {\n          newState.voice = true;\n      }\n  }\n  if (payload.Video && (payload.Video['tx'] || payload.Video['rx'])) {\n    if (payload.Video['data'] && payload.Video['data']['rx_stream']) {\n        newState.video_rx = payload.Video['data']['rx_stream'];\n        newState.video = true;\n    }\n    if (payload.Video['data'] && payload.Video['data']['tx_stream']) {\n        newState.video_tx = payload.Video['data']['tx_stream'];\n        newState.video = true;\n    }\n  }\n  return newState;\n};\nexport const widgetState = (state: VvcWidgetState  = initialWidgetState, {type, payload}) => {\n    console.log('------' + type + '------');\n    if (type === 'MEDIA_CHANGE') {\n        console.log(JSON.stringify(payload));\n    }\n    switch (type) {\n        case 'INITIAL_DATA':\n            const dcList = {};\n            dcList[payload.id] = payload;\n            return Object.assign({}, state, {\n                state: 'waiting_data',\n                initialDataFilled: false,\n                hasDataCollection: true,\n                selectedDataCollectionId: payload.id,\n                dataCollections: Object.assign({}, state.dataCollections, dcList)\n            });\n        case 'ADD_DATA_COLLECTION':\n            const newDc = {};\n            newDc[payload.id] = payload;\n            return Object.assign({}, state, {\n                dataCollections: Object.assign({}, state.dataCollections, newDc)\n            });\n        case 'MERGE_DATA_COLLECTION':\n            const dataCollectionWithValue = {};\n            dataCollectionWithValue[payload.id] = payload;\n            return Object.assign({}, state, {\n                dataCollections: Object.assign({}, state.dataCollections, dataCollectionWithValue)\n            });\n        case 'INITIAL_DATA_SENT':\n            return Object.assign({}, state, { state: 'queue', initialDataFilled: true });\n        case 'INITIAL_OFFER':\n            const initialState = extractStateFromMedia(payload.offer);\n            const initialOpts = extractInitialOpts(payload.opts);\n            initialState.state = 'queue';\n            return Object.assign({}, state, initialState, initialOpts);\n        case 'REMOTE_CAPS':\n            return Object.assign({}, state, { remoteCaps: payload });\n        case 'LOCAL_CAPS':\n            return Object.assign({}, state, { localCaps: payload });\n        case 'MEDIA_CHANGE':\n            const newState = extractStateFromMedia(payload);\n            return Object.assign({}, state, newState);\n        case 'MEDIA_OFFERING':\n            return Object.assign({}, state, { mediaOffering: payload });\n        case 'JOINED':\n            if (payload) {\n                return Object.assign({}, state, { agent: payload, state: 'ready' });\n            }\n            return Object.assign({}, state, { state: 'ready' });\n        case 'FULLSCREEN':\n            return Object.assign({}, state, { fullScreen: payload });\n        case 'MUTE':\n            return Object.assign({}, state, { mute: payload});\n        case 'MUTE_IN_PROGRESS':\n            return Object.assign({}, state, { mute_in_progress: payload});\n        case 'CHATVISIBILITY':\n            return Object.assign({}, state, { chatVisibility: payload });\n        case 'REDUCE_TOPBAR':\n            return Object.assign({}, state, { topBarExpanded: false });\n        case 'SHOW_DATA_COLLECTION':\n            return Object.assign({}, state, { dataCollectionPanel: payload });\n        case 'SHOW_SURVEY':\n            const dataCollections = {};\n            dataCollections[payload.id] = payload;\n            return Object.assign({}, state, {\n                showSurvey: true,\n                surveyId: payload.id,\n                dataCollections: Object.assign({}, state.dataCollections, dataCollections)\n            });\n        case 'AGENT_IS_WRITING':\n            return Object.assign({}, state, { isAgentWriting: payload });\n        case 'CLOSE_CONTACT':\n            return Object.assign({}, state, { closed: payload });\n        case 'MINIMIZE':\n            return Object.assign({}, state, { minimized: payload, not_read: 0});\n        case 'INCREMENT_NOT_READ':\n            const not_read = state.not_read + 1;\n            return Object.assign({}, state, { not_read: not_read });\n        default: return state;\n    }\n};\nexport const messages = (messageArray: Array<VvcMessage> = [], {type, payload}) => {\n    switch (type) {\n        case 'UPDATE_MESSAGE':\n            const newArray = [];\n            const iMessages = messageArray.filter( m => m.id === payload.id);\n            iMessages[0].state = payload.state;\n            messageArray.forEach( (m, i) => {\n                if (i === iMessages[0].oPos) {\n                    newArray.push(iMessages[0]);\n                }\n                if (m.id !== payload.id) {\n                    newArray.push(m);\n                }\n            });\n            return newArray;\n        case 'NEW_MESSAGE':\n            const isWritingMessages = messageArray.filter( m => m.state === 'iswriting');\n            const incomingMessages = messageArray.filter( m => m.type === 'incoming-request' && m.state !== 'closed');\n            let chatMessages = [];\n            if (incomingMessages.length > 0) {\n                chatMessages = messageArray.filter(m => m.state !== 'open').concat(incomingMessages);\n            } else {\n                chatMessages = messageArray;\n            }\n            if (payload.type === 'incoming-request') {\n                payload.oPos = chatMessages.length;\n            }\n            return chatMessages\n                        .filter (m => m.state !== 'iswriting')\n                        .concat(payload, isWritingMessages);\n        case 'REM_MESSAGE':\n            return messageArray.filter( m => m.id !== payload.id);\n        case 'REM_IS_WRITING':\n            return messageArray.filter( m => m.state !== 'iswriting');\n        default: return messageArray;\n    }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/core.reducers.ts","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'vvc-dc-viewer',\n  templateUrl: './dc-viewer.component.html'\n})\nexport class DcViewerComponent implements OnInit {\n\n  @ViewChild('theForm') theForm;\n  @Input() message;\n  @Input() dc;\n  @Output() submit = new EventEmitter();\n  @Output() close = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  closeViewer() {\n    this.dc.dataValue = this.theForm.getForm().value;\n    this.close.emit({ msg: this.message, dataCollection: this.dc });\n  }\n  onFormSubmit(formValue) {\n    this.dc.dataValue = formValue;\n    this.submit.emit({ msg: this.message, dataCollection: this.dc });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/dc-viewer/dc-viewer.component.ts","import {Component, OnInit, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'vvc-emoji-selector',\n  templateUrl: './emoji-selector.component.html'\n})\nexport class EmojiSelectorComponent implements OnInit {\n  emojis = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n            '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n            '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n            '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n            '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\n  @Output() emoji = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n  addEmoji(em) {\n    this.emoji.emit(em);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/emoji-selector/emoji-selector.component.ts","import {Component, OnInit, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'vvc-file-uploader',\n  templateUrl: './file-uploader.component.html'\n})\nexport class FileUploaderComponent implements OnInit {\n  uploadFile: File;\n\n  @Output() upload = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n  doUpload(inputFileDescr) {\n    if (this.uploadFile) {\n      this.upload.emit({ text: inputFileDescr.value, file: this.uploadFile });\n      inputFileDescr.value = '';\n      this.uploadFile = undefined;\n    }\n  }\n  onUploading(evt) {\n    if (evt.srcElement.files[0]) {\n      this.uploadFile = evt.srcElement.files[0];\n    }\n  }\n  removeUpload(theForm) {\n    this.uploadFile = undefined;\n    theForm.reset();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/file-uploader/file-uploader.component.ts","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {FormGroup, FormBuilder, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'vvc-form',\n  templateUrl: './form.component.html'\n})\nexport class FormComponent implements OnInit {\n\n  form: FormGroup;\n  hasRequired = false;\n  @Input() dc;\n  @Input() readMode = false;\n  @Output() submit = new EventEmitter();\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit() {\n    const controllers = {};\n    for (const idx in this.dc.data) {\n      const el = this.dc.data[idx];\n      const validators = [];\n      // validators.push(el.value || '');\n      if (el.required) {\n        validators.push(Validators.required);\n        this.hasRequired = true;\n      }\n      if (el.type === 'email') {\n        validators.push(Validators.email);\n      }\n      controllers[el.id] = [(this.dc.dataValue && this.dc.dataValue[el.id]) || el.value || '', validators];\n    }\n    this.form = this.fb.group(controllers);\n  }\n\n  getForm() {\n    return this.form;\n  }\n\n  onSubmit( event ) {\n    event.stopPropagation();\n    this.submit.emit(this.form.value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/form/form.component.ts","import {Component, OnInit, Input, Output, EventEmitter, ChangeDetectionStrategy} from '@angular/core';\nimport {VvcWidgetState} from '../core/core.interfaces';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Component({\n  selector: 'vvc-fullscreen',\n  templateUrl: './fullscreen.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FullscreenComponent implements OnInit {\n  @Input() state: VvcWidgetState;\n  @Output() hangup = new EventEmitter();\n  @Output() addvideo = new EventEmitter();\n  @Output() remvideo = new EventEmitter();\n  @Output() minimize = new EventEmitter();\n  @Output() showchat = new EventEmitter();\n  @Output() mute = new EventEmitter();\n  chatVisible = true;\n  constructor(private sanitizer: DomSanitizer) { }\n\n  ngOnInit() {\n  }\n\n  chatToggle() {\n    this.chatVisible = !this.chatVisible;\n    this.showchat.emit(this.chatVisible);\n  }\n  trustedSrc(url) {\n    return this.sanitizer.bypassSecurityTrustUrl(url);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/fullscreen/fullscreen.component.ts","import {Component, OnInit, Input, EventEmitter, Output} from '@angular/core';\n\n@Component({\n  selector: 'vvc-inc-dc',\n  templateUrl: './inc-dc.component.html'\n})\nexport class IncDcComponent implements OnInit {\n\n  @Input() message;\n  @Input() dc;\n  @Output() show = new EventEmitter();\n  @Output() submit = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onInlineSubmit(formValue) {\n    this.dc.dataValue = formValue;\n    this.submit.emit({ msg: this.message, dataCollection: this.dc });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/inc-dc/inc-dc.component.ts","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'vvc-incoming-message',\n  templateUrl: './incoming-message.component.html'\n})\nexport class IncomingMessageComponent implements OnInit {\n\n  @Input() message;\n  @Output() rejectOffer = new EventEmitter();\n  @Output() acceptOffer = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/incoming-message/incoming-message.component.ts","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {DataCollection} from '../core/core.interfaces';\n\n@Component({\n  selector: 'vvc-initial-data',\n  templateUrl: './initial-data.component.html'\n})\nexport class InitialDataComponent implements OnInit {\n\n  @Input() dataCollection: DataCollection;\n  @Output() datasubmit = new EventEmitter();\n  @Output() abandon = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/initial-data/initial-data.component.ts","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'vvc-minimized',\n  templateUrl: './minimized.component.html'\n})\nexport class MinimizedComponent implements OnInit {\n\n  @Input() state;\n  constructor() { }\n\n  ngOnInit() {\n  }\n  getAvatar() {\n    return (this.state.agent &&\n    this.state.agent.avatar &&\n    this.state.agent.avatar.images &&\n    this.state.agent.avatar.images[0] &&\n    this.state.agent.avatar.images[0].file &&\n    this.state.agent.avatar.base_url) ? this.state.agent.avatar.base_url + this.state.agent.avatar.images[0].file\n        : 'assets/acct-img.png';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/minimized/minimized.component.ts","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'vvc-no-chat',\n  templateUrl: './no-chat.component.html'\n})\nexport class NoChatComponent implements OnInit {\n\n  @Input() state;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/no-chat/no-chat.component.ts","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'vvc-queue',\n  templateUrl: './queue.component.html'\n})\nexport class QueueComponent implements OnInit {\n\n  @Input() type = '';\n  @Output() leave = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/queue/queue.component.ts","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {DataCollection} from '../core/core.interfaces';\n\n@Component({\n  selector: 'vvc-survey',\n  templateUrl: './survey.component.html'\n})\nexport class SurveyComponent implements OnInit {\n\n  public sent = false;\n  @Input() dataCollection: DataCollection;\n  @Output() close = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n  sendSurvey(formValue) {\n    this.sent = true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/survey/survey.component.ts","import {Component, OnInit, Input, ChangeDetectionStrategy, Output, EventEmitter} from '@angular/core';\nimport {VvcWidgetState} from '../core/core.interfaces';\n\n@Component({\n  selector: 'vvc-topbar',\n  templateUrl: './topbar.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TopbarComponent implements OnInit {\n\n  @Input() state: VvcWidgetState;\n  @Output() close = new EventEmitter();\n  @Output() minimize = new EventEmitter();\n  @Output() upgrade = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n  askForUpgrade(media) {\n      if (!this.state[media] && !this.state.mediaOffering) {\n          this.upgrade.emit(media.toUpperCase());\n      }\n  }\n  canStartMediaRequest(media) {\n      switch (media) {\n          case 'voice':\n              return this.state.canAddVoice &&\n                     this.state.localCaps &&\n                     this.state.localCaps.WebRTC &&\n                     this.state.localCaps.WebRTC.AudioCapture &&\n                     this.state.remoteCaps &&\n                     this.state.remoteCaps.WebRTC &&\n                     this.state.remoteCaps.WebRTC.AudioCapture &&\n                     this.state.remoteCaps.MediaAvailability &&\n                     this.state.remoteCaps.MediaAvailability.Voice;\n          case 'video':\n              return this.state.canAddVideo &&\n                     this.state.localCaps &&\n                     this.state.localCaps.WebRTC &&\n                     this.state.localCaps.WebRTC.VideoCapture &&\n                     this.state.remoteCaps &&\n                     this.state.remoteCaps.WebRTC &&\n                     this.state.remoteCaps.WebRTC.VideoCapture &&\n                     this.state.remoteCaps.MediaAvailability &&\n                     this.state.remoteCaps.MediaAvailability.Video;\n      }\n  }\n  getAgentName() {\n    return (this.state.agent && this.state.agent.nick) ? this.state.agent.nick : 'nonick';\n  }\n  getAvatar() {\n    return (this.state.agent &&\n            this.state.agent.avatar &&\n            this.state.agent.avatar.images &&\n            this.state.agent.avatar.images[0] &&\n            this.state.agent.avatar.images[0].file &&\n            this.state.agent.avatar.base_url) ? this.state.agent.avatar.base_url + this.state.agent.avatar.images[0].file\n                : 'assets/acct-img.png';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/topbar/topbar.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","export type VvcTxRxTypes = 'required' | 'optional' | 'off';\nexport type WidgetState = 'initializing' | 'waiting_data' | 'queue' | 'ready';\nexport interface VvcAvatarImage {\n    size?: string;\n    file: string;\n}\nexport interface VvcAgentAvatar {\n    base_url: string;\n    images: Array<VvcAvatarImage>;\n}\nexport interface VvcAgent {\n    user: string;\n    nick: string;\n    avatar?: VvcAgentAvatar;\n}\nexport interface VvcMediaOffer {\n    diff: Object;\n    offer: VvcOffer;\n}\nexport interface VvcOffer {\n    Chat?: VvcMediaOfferDetails;\n    Voice?: VvcMediaOfferDetails;\n    Video?: VvcMediaOfferDetails;\n    Screen?: VvcMediaOfferDetails;\n    Sharing?: VvcMediaOfferDetails;\n}\nexport interface VvcMessage {\n    // dataCollection?: DataCollection;\n    from_id?: string;\n    from_nick?: string;\n    id?: number;\n    isAgent?: boolean;\n    media?: string;\n    meta?: Object;\n    oPos?: number;\n    state?: string;\n    text?: string;\n    type?: string;\n    url?: string;\n}\nexport interface VvcMediaOfferDetails {\n    tx: VvcTxRxTypes;\n    rx: VvcTxRxTypes;\n    via?: string;\n    engine?: string;\n}\nexport interface VvcWidgetState {\n    agent?: VvcAgent;\n    askForTranscript?: boolean;\n    canAddVideo?: boolean;\n    canAddVoice?: boolean;\n    changeMediaState?: boolean;\n    chat: boolean;\n    chatVisibility: boolean;\n    closed: boolean;\n    dataCollectionPanel?: boolean;\n    dataCollections: VvcDataCollection;\n    error: boolean;\n    fullScreen: boolean;\n    had_chat?: boolean;\n    hasDataCollection?: boolean;\n    hasSurvey?: boolean;\n    incomingRequest?: boolean;\n    incomingOffer?: VvcOffer;\n    initialDataFilled?: boolean;\n    isAgentWriting?: boolean;\n    lastError: string;\n    state: WidgetState;\n    localCaps?: any;\n    mediaOffering: boolean;\n    minimized: boolean;\n    mobile: boolean;\n    mute: boolean;\n    mute_in_progress: boolean;\n    not_read: number;\n    remoteCaps?: any;\n    selectedDataCollectionId?: string;\n    sharing: boolean;\n    showSurvey?: boolean;\n    surveyId?: string;\n    topBarExpanded: boolean;\n    voice: boolean;\n    voice_rx?: string;\n    voice_tx?: string;\n    video: boolean;\n    video_rx?: string;\n    video_tx?: string;\n}\nexport interface AppState {\n    widgetState: VvcWidgetState;\n    messages: Array<any>;\n    vvcDataCollection: VvcDataCollection;\n}\n\n// DATA COLLECTIONS\nexport interface DataCollection {\n    status: string;\n    type: string;\n}\nexport interface VvcDataCollection {\n    [id: string]: DataCollection;\n}\n/*\nexport type DcObjectType = 'text' | 'checkbox' | 'date' | 'email' | 'link' | 'phone' | 'nickname' | 'survey' | 'privacy';\nexport type DcStates = 'hidden' | 'visible';\nexport interface DataCollectionState {\n    state: DcStates;\n    dataCollection?: DataCollection;\n}\nexport interface DataCollection {\n    key: string;\n    type: string;\n    inline?: boolean;\n    name: string;\n    desc: string;\n    data: Array<DcObject>;\n}\nexport interface DcObject {\n    key: string;\n    controlType: string;\n    name: string;\n    desc: string;\n    type: DcObjectType;\n    value?: any;\n    checked?: boolean;\n    policy?: Object;\n    visible?: boolean;\n    editable?: boolean;\n    config?: DcConfigObject;\n}\nexport interface DcConfigObject {\n    hide_from_visitor?: boolean;\n    multiline?: boolean;\n    required?: boolean;\n    default_value?: any;\n    max?: number;\n    min?: number;\n    customRegex?: string;\n    values?: Array<DcOptValue>;\n}\nexport interface DcOptValue {\n    value: any;\n    text: string;\n    color?: string;\n}\n*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/core.interfaces.ts","module.exports = \"<div id=\\\"vvc-container\\\"\\n     *ngIf=\\\"!widgetState.minimized\\\"\\n     [ngClass]=\\\"{'fullsize':widgetState.fullScreen, 'nochat':!widgetState.chatVisibility && widgetState.fullScreen}\\\">\\n\\n  <vvc-fullscreen id=\\\"vvc-full-enabled\\\"\\n                  *ngIf=\\\"widgetState?.fullScreen\\\"\\n                  [state]=\\\"widgetState\\\"\\n                  (hangup)=\\\"setNormalScreen();hangup()\\\"\\n                  (addvideo)=\\\"addLocalVideo()\\\"\\n                  (remvideo)=\\\"removeLocalVideo()\\\"\\n                  (minimize)=\\\"setNormalScreen()\\\"\\n                  (showchat)=\\\"setChatVisibility($event)\\\"\\n                  (mute)=\\\"setMute($event)\\\"></vvc-fullscreen>\\n\\n  <vvc-initial-data id=\\\"vvc-initial-data\\\"\\n                    *ngIf=\\\"widgetState?.state === 'waiting_data'\\\"\\n                    [dataCollection]=\\\"widgetState.dataCollections[widgetState.selectedDataCollectionId]\\\"\\n                    (datasubmit)=\\\"submitInitialData()\\\"\\n                    (abandon)=\\\"abandon()\\\"></vvc-initial-data>\\n\\n  <vvc-queue id=\\\"vvc-queue\\\"\\n             *ngIf=\\\"widgetState?.state === 'queue'\\\"\\n             [type]=\\\"type\\\"\\n             (leave)=\\\"leave()\\\"></vvc-queue>\\n\\n  <div id=\\\"vvc-widget-wrap\\\"\\n       [ngClass]=\\\"{'no-chat': !widgetState.chat && !widgetState.had_chat}\\\"\\n       *ngIf=\\\"widgetState?.state === 'ready'\\\">\\n\\n    <vvc-topbar id=\\\"vvc-top-bar\\\"\\n                [ngClass]=\\\"{'expanded': (widgetState?.topBarExpanded && !widgetState?.video)}\\\"\\n                [state]=\\\"widgetState\\\"\\n                (close)=\\\"showCloseModal($event)\\\"\\n                (minimize)=\\\"minimize(true)\\\"\\n                (upgrade)=\\\"upgradeMedia($event)\\\"></vvc-topbar>\\n\\n    <vvc-media-tools id=\\\"vvc-media-tools\\\"\\n                     *ngIf=\\\"widgetState?.voice && !widgetState.fullScreen\\\"\\n                     [state]=\\\"widgetState\\\"\\n                     (hangup)=\\\"hangup()\\\"\\n                     (addvideo)=\\\"addLocalVideo()\\\"\\n                     (remvideo)=\\\"removeLocalVideo()\\\"\\n                     (maximize)=\\\"setFullScreen()\\\"\\n                     (mute)=\\\"setMute($event)\\\"></vvc-media-tools>\\n\\n    <vvc-no-chat id=\\\"vvc-no-chat\\\"\\n                 *ngIf=\\\"!widgetState.chat && !widgetState.had_chat\\\"\\n                 [state]=\\\"widgetState\\\"></vvc-no-chat>\\n\\n    <div id=\\\"vvc-messages\\\"\\n         *ngIf=\\\"widgetState.chat || widgetState.had_chat\\\"\\n         angular2-auto-scroll>\\n      <div *ngFor=\\\"let m of messages\\\">\\n        <vvc-chat-message *ngIf=\\\"m.type === 'chat'\\\"\\n                          [message]=\\\"m\\\"\\n                          (download)=\\\"download($event)\\\"></vvc-chat-message>\\n        <vvc-incoming-message *ngIf=\\\"m.type === 'incoming-request' && m.media != 'DC'\\\"\\n                              [message]=\\\"m\\\"\\n                              (rejectOffer)=\\\"denyIncomingRequest($event)\\\"\\n                              (acceptOffer)=\\\"acceptIncomingRequest($event)\\\"></vvc-incoming-message>\\n        <vvc-inc-dc *ngIf=\\\"m.type === 'incoming-request' && m.media === 'DC'\\\"\\n                    [message]=\\\"m\\\"\\n                    [dc]=\\\"widgetState.dataCollections[m.dataCollectionId]\\\"\\n                    (show)=\\\"showDataCollection($event)\\\"\\n                    (submit)=\\\"sendDataCollection($event)\\\"></vvc-inc-dc>\\n      </div>\\n    </div>\\n\\n    <vvc-chat-box id=\\\"vvc-chat-area\\\" *ngIf=\\\"!widgetState.closed && widgetState.chat\\\"\\n                  (upload)=\\\"sendAttachment($event)\\\"\\n                  (message)=\\\"sendChatMessage($event)\\\"></vvc-chat-box>\\n\\n    <vvc-dc-viewer id=\\\"vvc-dc-viewer\\\"\\n                   *ngIf=\\\"selectedDataMessage\\\"\\n                   [dc]=\\\"widgetState.dataCollections[selectedDataMessage.dataCollectionId]\\\"\\n                   [message]=\\\"selectedDataMessage\\\"\\n                   (submit)=\\\"sendDataCollection($event);selectedDataMessage = undefined;\\\"\\n                   (close)=\\\"syncDataCollection($event);selectedDataMessage = undefined;\\\"></vvc-dc-viewer>\\n\\n    <vvc-close-modal id=\\\"vvc-close-modal\\\"\\n                     *ngIf=\\\"closeModal\\\"\\n                     (close)=\\\"closeContact($event)\\\"\\n                     (cancel)=\\\"dismissCloseModal()\\\"></vvc-close-modal>\\n\\n    <vvc-survey id=\\\"vvc-survey\\\"\\n                *ngIf=\\\"widgetState.showSurvey\\\"\\n                [dataCollection]=\\\"widgetState.dataCollections[widgetState.surveyId]\\\"\\n                (close)=\\\"closeOnSurvey()\\\"></vvc-survey>\\n\\n  </div>\\n\\n</div>\\n\\n<vvc-minimized id=\\\"vvc-minimized\\\"\\n               *ngIf=\\\"widgetState.minimized\\\"\\n               [state]=\\\"widgetState\\\"\\n               (click)=\\\"minimize(false)\\\"></vvc-minimized>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 193\n// module chunks = 1","module.exports = \"<div class=\\\"chat-box\\\">\\n\\n  <div class=\\\"click-catch\\\"\\n       *ngIf=\\\"uploadPanel || emojiPanel\\\"\\n       (click)=\\\"closeAllPanels()\\\"></div>\\n\\n  <div class=\\\"chat-tools-panels\\\"\\n       *ngIf=\\\"uploadPanel || emojiPanel\\\"\\n       [ngClass]=\\\"{'upload-selected':uploadPanel, 'emoji-selected':emojiPanel}\\\">\\n    <div class=\\\"emoji-panel panel\\\">\\n      <vvc-emoji-selector (emoji)=\\\"emoji.emit($event);chatInput.value=chatInput.value + $event +' '\\\"></vvc-emoji-selector>\\n    </div>\\n    <div class=\\\"upload-panel panel\\\">\\n      <vvc-file-uploader (upload)=\\\"upload.emit($event);toggleUploadTool();\\\"></vvc-file-uploader>\\n    </div>\\n  </div>\\n\\n  <textarea #chatInput\\n            placeholder=\\\"{{ 'CHAT.TEXTAREA_PLACEHOLDER' | translate }}\\\"\\n            (keyup.enter)=\\\"sendMessage(chatInput);\\\"\\n            (keyup)=\\\"calcRows(chatInput)\\\"\\n            [rows]=\\\"textAreaRows\\\"></textarea>\\n\\n  <div class=\\\"chat-tools\\\">\\n    <div class=\\\"tool\\\"\\n         [ngClass]=\\\"{'selected':emojiPanel}\\\"\\n         (click)=\\\"toggleEmojiTool()\\\">\\n      <i class=\\\"vvc-smile\\\"></i>\\n    </div>\\n    <div class=\\\"tool\\\"\\n         [ngClass]=\\\"{'selected':uploadPanel}\\\"\\n         (click)=\\\"toggleUploadTool()\\\">\\n      <i class=\\\"vvc-clipboard\\\"></i>\\n    </div>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-box/chat-box.component.html\n// module id = 194\n// module chunks = 1","module.exports = \"<div *ngIf=\\\"message.isAgent\\\" class=\\\"agent-msg\\\" >\\n  <span class=\\\"msg-content\\\" *ngIf=\\\"message.state === 'iswriting'\\\">\\n    <span class=\\\"bubble bubble-one\\\"></span>\\n    <span class=\\\"bubble bubble-two\\\"></span>\\n    <span class=\\\"bubble bubble-three\\\"></span>\\n  </span>\\n\\n  <span class=\\\"msg-content\\\" *ngIf=\\\"message.url\\\">\\n    <span class=\\\"the-image\\\" *ngIf=\\\"isImage()\\\"><img [src]=\\\"message.url\\\"></span>\\n    <span class=\\\"file-type\\\" *ngIf=\\\"!isImage()\\\"><i class=\\\"vvc-doc\\\"></i></span>\\n    <span class=\\\"the-file\\\" *ngIf=\\\"!isImage()\\\">{{message.text}}</span>\\n    <span class=\\\"download\\\" (click)=\\\"download.emit(message.url)\\\">{{ 'MESSAGES.DOWNLOAD' | translate }}  <i class=\\\"vvc-download\\\"></i></span>\\n    <span class=\\\"the-message\\\" *ngIf=\\\"isImage()\\\">{{message.text}}</span>\\n  </span>\\n\\n  <span class=\\\"msg-content\\\" *ngIf=\\\"message.state !== 'iswriting' && !message.url\\\">\\n    {{message.text}}\\n  </span>\\n\\n</div>\\n\\n<div *ngIf=\\\"!message.isAgent\\\" class=\\\"customer-msg\\\">\\n\\n  <span class=\\\"msg-content\\\" *ngIf=\\\"message.url\\\">\\n    <span class=\\\"the-image\\\" *ngIf=\\\"isImage()\\\"><img [src]=\\\"message.url\\\"></span>\\n    <span class=\\\"file-type\\\" *ngIf=\\\"!isImage()\\\"><i class=\\\"vvc-doc\\\"></i></span>\\n    <span class=\\\"the-file\\\" *ngIf=\\\"!isImage()\\\">{{message.text}}</span>\\n    <span class=\\\"download\\\" (click)=\\\"download.emit(message.url)\\\">{{ 'MESSAGES.DOWNLOAD' | translate }}  <i class=\\\"vvc-download\\\"></i></span>\\n    <span class=\\\"the-message\\\" *ngIf=\\\"isImage()\\\">{{message.text}}</span>\\n  </span>\\n\\n  <span *ngIf=\\\"message.state === 'uploading'\\\">\\n    <span class=\\\"msg-content\\\">\\n      {{ 'MESSAGES.FILE_SENDING' | translate }}\\n    </span>\\n    <span class=\\\"file-uploading spin\\\"><i class=\\\"vvc-refresh spin\\\"></i></span>\\n  </span>\\n\\n\\n  <span class=\\\"msg-content\\\" *ngIf=\\\"message.state !== 'uploading' && !message.url\\\">\\n    {{message.text}}\\n  </span>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chat-message/chat-message.component.html\n// module id = 195\n// module chunks = 1","module.exports = \"<div class=\\\"modal-content\\\">\\n  <div class=\\\"inner-content\\\">\\n    <div class=\\\"incoming-msg\\\">\\n      <div class=\\\"open\\\">\\n        <div class=\\\"inc-msg-header\\\">\\n          <div class=\\\"inc-type\\\"><i class=\\\"vvc-sign-out\\\"></i></div>\\n          <div class=\\\"inc-header\\\">{{ 'CLOSEMODAL.CLOSE_MESSAGE' | translate }}</div>\\n        </div>\\n        <div class=\\\"inc-msg-content\\\">\\n          <button (click)=\\\"cancel.emit()\\\" class=\\\"btn-normal\\\">{{ 'CLOSEMODAL.NO' | translate }}</button>\\n          <button (click)=\\\"close.emit()\\\" class=\\\"btn-primary\\\">{{ 'CLOSEMODAL.YES' | translate }}</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/close-modal/close-modal.component.html\n// module id = 196\n// module chunks = 1","module.exports = \"<span class=\\\"back-anchor\\\"\\n      (click)=\\\"closeViewer()\\\">\\n  <i class=\\\"vvc-arrow-left\\\"></i>\\n</span>\\n\\n<vvc-form [dc]=\\\"dc\\\" #theForm\\n          [readMode]=\\\"message.state === 'closed'\\\"\\n          (submit)=\\\"onFormSubmit($event)\\\"></vvc-form>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dc-viewer/dc-viewer.component.html\n// module id = 197\n// module chunks = 1","module.exports = \"<div class=\\\"emoji-wrapper\\\">\\n  <div class=\\\"emoji-content\\\">\\n    <!--\\n                                                                                                                                                                                                           \\n    -->\\n    <span *ngFor=\\\"let em of emojis\\\"\\n          (click)=\\\"addEmoji(em)\\\"\\n          class=\\\"emoji\\\">{{em}} </span>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/emoji-selector/emoji-selector.component.html\n// module id = 198\n// module chunks = 1","module.exports = \"<div class=\\\"upload-descr\\\">\\n  <i class=\\\"vvc-pic\\\"></i> <input #fileDescr type=\\\"text\\\" placeholder=\\\"{{ 'TOOLS.UPLOADER.FILE_DESCRIPTION' | translate }}\\\" />\\n</div>\\n<div class=\\\"upload-file\\\">\\n  <div class=\\\"file-containter\\\">\\n    <i class=\\\"vvc-remove\\\"\\n       *ngIf=\\\"uploadFile\\\"\\n       (click)=\\\"removeUpload(formUploader)\\\"></i> <div class=\\\"file-name\\\">{{uploadFile?.name || ('TOOLS.UPLOADER.SELECT_PLACEHOLDER' | translate)}}</div>\\n  </div>\\n  <label for=\\\"theFile\\\" class=\\\"btn-primary\\\">{{ 'TOOLS.UPLOADER.BROWSE' | translate }}</label>\\n</div>\\n<div class=\\\"file-size\\\">{{ 'TOOLS.UPLOADER.MAX_FILESIZE' | translate }}</div>\\n<div class=\\\"submit-area\\\">\\n  <button class=\\\"btn-primary\\\"\\n          [disabled]=\\\"!uploadFile\\\"\\n          (click)=\\\"doUpload(fileDescr)\\\">\\n    <i class=\\\"vvc-check\\\"></i> {{'TOOLS.UPLOADER.SEND' | translate }}\\n  </button>\\n</div>\\n<form id=\\\"formUploader\\\" #formUploader enctype=\\\"multipart/form-data\\\" onsubmit=\\\"return false;\\\">\\n  <input type=\\\"file\\\" id=\\\"theFile\\\" name=\\\"theFile\\\" class=\\\"inputfile\\\" (change)=\\\"onUploading($event)\\\">\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/file-uploader/file-uploader.component.html\n// module id = 199\n// module chunks = 1","module.exports = \"<div class=\\\"vvc-form\\\">\\n\\n  <div class=\\\"form-title\\\" *ngIf=\\\"dc.dataTitle\\\">{{ dc.dataTitle | translate }}</div>\\n  <div class=\\\"form-descr\\\" *ngIf=\\\"dc.dataDescr\\\">{{ dc.dataDescr | translate }}</div>\\n  <div class=\\\"form-required-legend\\\" *ngIf=\\\"hasRequired\\\">{{ 'DC.REQUIRED_LEGEND' | translate }}</div>\\n\\n  <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit($event)\\\">\\n    <div *ngFor=\\\"let elem of dc.data\\\">\\n\\n      <div class=\\\"vvc-input\\\"\\n           [ngClass]=\\\"{'error' : form.get(elem.id).errors && form.get(elem.id).touched}\\\"\\n           *ngIf=\\\"elem.type === 'text' || elem.type === 'email'\\\">\\n        <label>{{ elem.name | translate }}<span *ngIf=\\\"elem.required\\\" class=\\\"required\\\"> *</span></label>\\n        <input type=\\\"{{elem.type}}\\\"\\n               *ngIf=\\\"!readMode\\\"\\n               [formControlName]=\\\"elem.id\\\"\\n               placeholder=\\\"{{ elem.placeholder | translate }}\\\">\\n        <div *ngIf=\\\"readMode\\\">\\n          {{ dc.dataValue[elem.id] || '-' }}\\n        </div>\\n        <p *ngIf=\\\"form.get(elem.id).touched && !readMode\\\">\\n          <span *ngIf=\\\"form.get(elem.id).hasError('required')\\\">{{ 'DC.REQUIRED_ERR' | translate }}</span>\\n          <span *ngIf=\\\"form.get(elem.id).hasError('email')\\\">{{ 'DC.EMAIL_ERR' | translate }}</span>\\n        </p>\\n      </div>\\n\\n      <div *ngIf=\\\"elem.type === 'rating-bar'\\\">\\n        <div>{{ elem.name | translate }}</div>\\n        <div class=\\\"vvc-bar-rating\\\">\\n          <input type=\\\"radio\\\" id=\\\"star5\\\" [formControlName]=\\\"elem.id\\\" value=\\\"5\\\" /><label for=\\\"star5\\\"></label>\\n          <input type=\\\"radio\\\" id=\\\"star4\\\" [formControlName]=\\\"elem.id\\\" value=\\\"4\\\" /><label for=\\\"star4\\\"></label>\\n          <input type=\\\"radio\\\" id=\\\"star3\\\" [formControlName]=\\\"elem.id\\\" value=\\\"3\\\" /><label for=\\\"star3\\\"></label>\\n          <input type=\\\"radio\\\" id=\\\"star2\\\" [formControlName]=\\\"elem.id\\\" value=\\\"2\\\" /><label for=\\\"star2\\\"></label>\\n          <input type=\\\"radio\\\" id=\\\"star1\\\" [formControlName]=\\\"elem.id\\\" value=\\\"1\\\" /><label for=\\\"star1\\\"></label>\\n        </div>\\n      </div>\\n\\n    </div>\\n    <div *ngIf=\\\"!readMode\\\">\\n      <button class=\\\"btn-primary\\\"\\n              [disabled]=\\\"form.invalid\\\">{{ dc.saveButton | translate }}</button>\\n    </div>\\n  </form>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/form/form.component.html\n// module id = 200\n// module chunks = 1","module.exports = \"<video class=\\\"big-video\\\"\\n       *ngIf=\\\"state?.video_rx\\\"\\n       [src]=\\\"trustedSrc(state.video_rx.url)\\\"></video>\\n\\n<video class=\\\"small-video\\\"\\n       muted\\n       *ngIf=\\\"state?.video_tx\\\"\\n       [src]=\\\"trustedSrc(state.video_tx.url)\\\"></video>\\n\\n<div class=\\\"vvc-tools\\\">\\n  <div class=\\\"vvc-tools-wrap\\\">\\n    <div class=\\\"vvc-inner-tools video-tools\\\">\\n      <button class=\\\"first-btn\\\"\\n              *ngIf=\\\"state?.video_tx\\\"\\n              (click)=\\\"remvideo.emit()\\\">\\n        <i class=\\\"vvc-video-off\\\"></i> {{ 'MEDIATOOLS.VIDEO_OFF' | translate }}\\n      </button>\\n\\n      <button class=\\\"first-btn\\\"\\n              *ngIf=\\\"!state?.video_tx\\\"\\n              (click)=\\\"addvideo.emit()\\\">\\n        <i class=\\\"vvc-video\\\"></i> {{ 'MEDIATOOLS.VIDEO_ON' | translate }}\\n      </button>\\n\\n      <button (click)=\\\"minimize.emit()\\\">\\n        <i class=\\\"vvc-minimize\\\"></i> {{ 'MEDIATOOLS.MINIMIZE' | translate }}\\n      </button>\\n\\n      <button *ngIf=\\\"!state.mute\\\"\\n              [disabled]=\\\"state.mute_in_progress\\\"\\n              (click)=\\\"mute.emit(true)\\\">\\n        <i class=\\\"vvc-unmute\\\"></i> {{ 'MEDIATOOLS.MUTE' | translate }}\\n      </button>\\n\\n      <button *ngIf=\\\"state.mute\\\"\\n              [disabled]=\\\"state.mute_in_progress\\\"\\n              (click)=\\\"mute.emit(false)\\\">\\n        <i class=\\\"vvc-mute\\\"></i> {{ 'MEDIATOOLS.MUTE' | translate }}\\n      </button>\\n\\n      <button class=\\\"hangup\\\" (click)=\\\"hangup.emit()\\\">\\n        <i class=\\\"vvc-hangup\\\"></i> {{ 'MEDIATOOLS.HANGUP' | translate }}</button>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"chat-toggle\\\" (click)=\\\"chatToggle()\\\">\\n  <i class=\\\"vvc-chat\\\"></i>\\n  <div class=\\\"chat-label\\\" *ngIf=\\\"!chatVisible\\\">{{ 'MEDIATOOLS.CHAT_SHOW' | translate }}</div>\\n  <div class=\\\"chat-label\\\" *ngIf=\\\"chatVisible\\\">{{ 'MEDIATOOLS.CHAT_HIDE' | translate }}</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/fullscreen/fullscreen.component.html\n// module id = 201\n// module chunks = 1","module.exports = \"<div class=\\\"incoming-msg\\\">\\n  <div class=\\\"dc\\\">\\n    <div class=\\\"inc-msg-header\\\">\\n      <div class=\\\"inc-type\\\"><i class=\\\"vvc-doc\\\"></i></div>\\n      <div class=\\\"inc-header\\\">{{ 'DC.INCOMING_HEAD' | translate }}</div>\\n    </div>\\n\\n    <div class=\\\"inc-msg-content\\\" *ngIf=\\\"dc.mode === 'block'\\\">\\n      {{ 'DC.ASK_FOR_COMPILE' | translate }}<br>\\n      <span class=\\\"dc-name\\\">{{ dc.dataTitle | translate }}</span>\\n    </div>\\n\\n    <div class=\\\"inc-msg-content form\\\" *ngIf=\\\"dc.mode === 'inline'\\\">\\n      <vvc-form [dc]=\\\"dc\\\"\\n                [readMode]=\\\"message.state === 'closed'\\\"\\n                (submit)=\\\"onInlineSubmit($event)\\\"></vvc-form>\\n    </div>\\n\\n    <div class=\\\"inc-msg-content\\\" *ngIf=\\\"dc.mode === 'block'\\\">\\n      <button class=\\\"btn-primary\\\"\\n              *ngIf=\\\"message.state === 'open'\\\"\\n              (click)=\\\"show.emit(message)\\\">\\n        <i class=\\\"vvc-pencil\\\"></i> {{ 'DC.COMPILE' | translate }}\\n      </button>\\n\\n      <button class=\\\"btn-primary\\\"\\n              *ngIf=\\\"message.state === 'closed'\\\"\\n              (click)=\\\"show.emit(message)\\\">\\n              <i class=\\\"vvc-check\\\"></i> {{ 'DC.VIEW' | translate }}\\n      </button>\\n    </div>\\n\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/inc-dc/inc-dc.component.html\n// module id = 202\n// module chunks = 1","module.exports = \"<div class=\\\"incoming-msg\\\">\\n\\n  <div class=\\\"open\\\" *ngIf=\\\"message.state==='open'\\\">\\n    <div class=\\\"inc-msg-header\\\">\\n      <div class=\\\"inc-type\\\">\\n        <i *ngIf=\\\"message.media === 'VOICE'\\\" class=\\\"vvc-phone\\\"></i>\\n        <i *ngIf=\\\"message.media === 'VIDEO'\\\" class=\\\"vvc-video\\\"></i>\\n      </div>\\n      <div class=\\\"inc-header\\\">{{ message.text | translate }}</div>\\n    </div>\\n    <div class=\\\"inc-msg-content\\\">\\n      <button class=\\\"btn-normal\\\" (click)=\\\"rejectOffer.emit(message.media)\\\">\\n        <i class=\\\"vvc-close\\\"></i> {{ 'MESSAGES.DECLINE' | translate }}\\n      </button>\\n      <button class=\\\"btn-primary\\\"\\n              *ngIf=\\\"message.media === 'VIDEO'\\\"\\n              (click)=\\\"acceptOffer.emit('voice-only')\\\">\\n        <i class=\\\"vvc-phone\\\"></i> {{ 'MESSAGES.VOICE_ONLY' | translate }}\\n      </button>\\n      <button class=\\\"btn-primary\\\" (click)=\\\"acceptOffer.emit('video-full')\\\">\\n        <i class=\\\"vvc-check\\\"></i> {{ 'MESSAGES.ACCEPT' | translate }}\\n      </button>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"loading\\\" *ngIf=\\\"message.state==='loading'\\\">\\n   <div class=\\\"inc-type\\\">\\n     <i *ngIf=\\\"message.media === 'VOICE'\\\" class=\\\"vvc-phone\\\"></i>\\n     <i *ngIf=\\\"message.media === 'VIDEO'\\\" class=\\\"vvc-video\\\"></i>\\n   </div>\\n   <div class=\\\"loading-wrapper\\\">\\n     <div class=\\\"loader\\\"></div>\\n   </div>\\n  </div>\\n\\n  <div class=\\\"closed\\\"\\n       *ngIf=\\\"message.state==='closed'\\\"\\n       [ngClass]=\\\"{'rejected':message.extraClass === 'rejected', 'accepted':message.extraClass === 'accepted'}\\\">\\n   <div class=\\\"inc-msg-header\\\">\\n     <div class=\\\"inc-type\\\">\\n       <i *ngIf=\\\"message.media === 'VOICE'\\\" class=\\\"vvc-phone\\\"></i>\\n       <i *ngIf=\\\"message.media === 'VIDEO'\\\" class=\\\"vvc-video\\\"></i>\\n       <i *ngIf=\\\"message.media === 'AGENTCLOSE'\\\" class=\\\"vvc-sign-out\\\"></i>\\n       <i *ngIf=\\\"message.media === 'TRANSFER'\\\" class=\\\"vvc-headphones\\\"></i>\\n     </div>\\n     <div class=\\\"inc-header\\\">{{ message.text | translate }}</div>\\n   </div>\\n  </div>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/incoming-message/incoming-message.component.html\n// module id = 203\n// module chunks = 1","module.exports = \"<div class=\\\"top-box\\\">\\n  <div class=\\\"top-box-row1\\\">\\n    <div>&nbsp;</div>\\n    <div>\\n      <img class=\\\"acct-img\\\" src=\\\"assets/acct-img.png\\\">\\n    </div>\\n    <div (click)=\\\"abandon.emit()\\\">\\n      <i class=\\\"vvc-close\\\"></i>\\n    </div>\\n  </div>\\n  <div class=\\\"top-box-row2\\\">\\n    <div [innerHTML]=\\\"'INITIAL_DATA.WELCOME' | translate\\\"></div>\\n  </div>\\n</div>\\n<div class=\\\"data-box\\\">\\n  <div class=\\\"card vvc-form\\\">\\n    <div class=\\\"card-inner\\\">\\n      <vvc-form [dc]=\\\"dataCollection\\\"\\n                (submit)=\\\"datasubmit.emit()\\\"></vvc-form>\\n\\n      <!--\\n      <div class=\\\"vvc-title\\\">\\n        Anagrafica Utente\\n      </div>\\n\\n      <div class=\\\"vvc-input\\\">\\n        <label>Nome<span class=\\\"required\\\"> *</span></label>\\n        <input type=\\\"text\\\" placeholder=\\\"il tuo nome\\\">\\n        <p></p>\\n      </div>\\n\\n      <div class=\\\"vvc-input\\\">\\n        <label>Cognome<span class=\\\"required\\\"> *</span></label>\\n        <input type=\\\"text\\\" placeholder=\\\"il tuo cognome\\\">\\n        <p></p>\\n      </div>\\n\\n      <div class=\\\"vvc-input\\\">\\n        <label>Email</label>\\n        <input type=\\\"email\\\" placeholder=\\\"la tua email\\\">\\n        <p></p>\\n      </div>\\n\\n      <button class=\\\"btn-primary\\\" (click)=\\\"datasubmit.emit()\\\">Invia</button>\\n      -->\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/initial-data/initial-data.component.html\n// module id = 204\n// module chunks = 1","module.exports = \"<div class=\\\"vvc-media-wrap\\\" [ngClass]=\\\"{'video': state?.video, 'voice': !state?.video}\\\">\\n\\n  <div class=\\\"vvc-video-wrap video-tools\\\">\\n\\n    <video class=\\\"big-video\\\"\\n           *ngIf=\\\"state?.video_rx\\\"\\n           [src]=\\\"trustedSrc(state.video_rx.url)\\\"></video>\\n\\n    <video class=\\\"small-video\\\"\\n           muted\\n           *ngIf=\\\"state?.video_tx\\\"\\n           [src]=\\\"trustedSrc(state.video_tx.url)\\\"></video>\\n  </div>\\n\\n\\n  <div class=\\\"vvc-tools-wrap\\\">\\n    <div class=\\\"vvc-inner-tools video-tools\\\">\\n\\n      <button class=\\\"first-btn\\\"\\n              *ngIf=\\\"state?.video_tx\\\"\\n              (click)=\\\"remvideo.emit()\\\">\\n        <i class=\\\"vvc-video-off\\\"></i> {{ 'MEDIATOOLS.VIDEO_OFF' | translate }}\\n      </button>\\n\\n      <button class=\\\"first-btn\\\"\\n              *ngIf=\\\"!state?.video_tx\\\"\\n              (click)=\\\"addvideo.emit()\\\">\\n        <i class=\\\"vvc-video\\\"></i> {{ 'MEDIATOOLS.VIDEO_ON' | translate }}\\n      </button>\\n\\n      <button *ngIf=\\\"!state?.fullScreen\\\"\\n              (click)=\\\"maximize.emit()\\\">\\n        <i class=\\\"vvc-expand\\\"></i> {{ 'MEDIATOOLS.EXPAND' | translate }}\\n      </button>\\n\\n      <button *ngIf=\\\"!state.mute\\\"\\n              [disabled]=\\\"state.mute_in_progress\\\"\\n              (click)=\\\"mute.emit(true)\\\">\\n        <i class=\\\"vvc-unmute\\\"></i> {{ 'MEDIATOOLS.MUTE' | translate }}\\n      </button>\\n\\n      <button *ngIf=\\\"state.mute\\\"\\n              [disabled]=\\\"state.mute_in_progress\\\"\\n              (click)=\\\"mute.emit(false)\\\">\\n        <i class=\\\"vvc-mute\\\"></i> {{ 'MEDIATOOLS.MUTE' | translate }}\\n      </button>\\n\\n      <button class=\\\"hangup\\\" (click)=\\\"hangup.emit()\\\">\\n        <i class=\\\"vvc-hangup\\\"></i> {{ 'MEDIATOOLS.HANGUP' | translate }}</button>\\n    </div>\\n\\n    <div class=\\\"vvc-inner-tools audio-tools\\\">\\n      <button class=\\\"first-btn audio\\\"\\n              *ngIf=\\\"!state.mute\\\"\\n              [disabled]=\\\"state.mute_in_progress\\\"\\n              (click)=\\\"mute.emit(true)\\\">\\n        <i class=\\\"vvc-unmute\\\"></i> {{ 'MEDIATOOLS.MUTE' | translate }}\\n      </button>\\n      <button class=\\\"first-btn audio\\\"\\n              *ngIf=\\\"state.mute\\\"\\n              [disabled]=\\\"state.mute_in_progress\\\"\\n              (click)=\\\"mute.emit(false)\\\">\\n        <i class=\\\"vvc-mute\\\"></i> {{ 'MEDIATOOLS.UNMUTE' | translate }}\\n      </button>\\n      <div class=\\\"the-timer\\\" #theTimer>\\n        00:00:00\\n      </div>\\n      <button class=\\\"hangup\\\" (click)=\\\"hangup.emit()\\\">\\n        <i class=\\\"vvc-hangup\\\"></i> {{ 'MEDIATOOLS.HANGUP' | translate }}\\n      </button>\\n      <audio *ngIf=\\\"state.voice && state.voice_rx && !state.video_rx\\\"\\n             [src]=\\\"trustedSrc(state.voice_rx.url)\\\"></audio>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/media-tools/media-tools.component.html\n// module id = 205\n// module chunks = 1","module.exports = \"<img class='agent-img' [src]=\\\"getAvatar()\\\">\\n<div class='badge' *ngIf=\\\"state.not_read && state.not_read > 0\\\">{{ state.not_read }}</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/minimized/minimized.component.html\n// module id = 206\n// module chunks = 1","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card-inner\\\">\\n    <div class=\\\"avatar-place\\\">\\n      <img class='acct-img' src=\\\"assets/acct-img.png\\\">\\n    </div>\\n\\n    <div *ngIf=\\\"!state.closed\\\">\\n      <div class=\\\"main-msg\\\" [innerHTML]=\\\"'NOCHAT.MAIN_MSG' | translate\\\"></div>\\n      <div class=\\\"sub-msg\\\"  [innerHTML]=\\\"'NOCHAT.SUB_MSG' | translate\\\"></div>\\n    </div>\\n\\n    <div *ngIf=\\\"state.closed\\\" [innerHTML]=\\\"'NOCHAT.END_MSG' | translate\\\"></div>\\n\\n\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/no-chat/no-chat.component.html\n// module id = 207\n// module chunks = 1","module.exports = \"<div id=\\\"vvc-queue\\\">\\n  <div id=\\\"top-box\\\">\\n    <div id=\\\"top-box-row1\\\">\\n      <div>&nbsp;</div>\\n      <div>\\n        <img class=\\\"acct-img\\\" src=\\\"assets/acct-img.png\\\">\\n      </div>\\n      <div (click)=\\\"leave.emit()\\\">\\n        <i class=\\\"vvc-close\\\"></i>\\n      </div>\\n    </div>\\n    <div id=\\\"top-box-row2\\\">\\n      <div [innerHTML]=\\\"'QUEUE.WELCOME' | translate\\\">\\n        Welcome<br>to Vivochas customer service\\n      </div>\\n    </div>\\n  </div>\\n  <div id=\\\"middle-box\\\">\\n    <div>\\n      <div class=\\\"media-type\\\">\\n        <i *ngIf=\\\"type === 'chat'\\\" class=\\\"vvc-chat\\\"></i>\\n        <i *ngIf=\\\"type === 'voice'\\\" class=\\\"vvc-phone\\\"></i>\\n        <i *ngIf=\\\"type === 'video'\\\" class=\\\"vvc-video\\\"></i>\\n      </div>\\n      <div class=\\\"loading-wrapper\\\">\\n        <div class=\\\"loader\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n  <div id=\\\"bottom-box\\\">\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-inner\\\">\\n        <div [innerHTML]=\\\"'QUEUE.INFO' | translate\\\">Just a moment,<br>we are connecting you with the first available agent.</div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/queue/queue.component.html\n// module id = 208\n// module chunks = 1","module.exports = \"<div class=\\\"top-box\\\">\\n  <div class=\\\"top-box-row1\\\">\\n    <div>&nbsp;</div>\\n    <div>\\n      <img class=\\\"acct-img\\\" src=\\\"assets/acct-img.png\\\">\\n    </div>\\n    <div (click)=\\\"close.emit()\\\">\\n      <i class=\\\"vvc-close\\\"></i>\\n    </div>\\n  </div>\\n  <div class=\\\"top-box-row2\\\">\\n    <div [innerHTML]=\\\"'SURVEY.WELCOME' | translate\\\"></div>\\n  </div>\\n</div>\\n<div class=\\\"survey-box\\\">\\n  <div class=\\\"card vvc-form\\\">\\n\\n    <div class=\\\"card-inner\\\" *ngIf=\\\"!sent\\\">\\n      <vvc-form [dc]=\\\"dataCollection\\\"\\n                (submit)=\\\"sendSurvey($event)\\\"></vvc-form>\\n    </div>\\n\\n    <div class=\\\"card-inner\\\" *ngIf=\\\"sent\\\">\\n      <div class=\\\"survey-feedback\\\">\\n        <i class=\\\"vvc-check\\\"></i>\\n        <div [innerHTML]=\\\"'SURVEY.FEEDBACK' | translate\\\"></div>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/survey/survey.component.html\n// module id = 209\n// module chunks = 1","module.exports = \"<div class=\\\"top-row\\\">\\n  <div class=\\\"media-tools\\\">\\n    <div *ngIf=\\\"!this.state.closed\\\">\\n      <i class=\\\"vvc-phone\\\"\\n         [ngClass]=\\\"{'disabled': this.state.voice || this.state.mediaOffering }\\\"\\n         *ngIf=\\\"canStartMediaRequest('voice')\\\"\\n         (click)=\\\"askForUpgrade('voice')\\\"></i>\\n\\n      <i class=\\\"vvc-video\\\"\\n         [ngClass]=\\\"{'disabled': this.state.video || this.state.mediaOffering }\\\"\\n         *ngIf=\\\"canStartMediaRequest('video')\\\"\\n         (click)=\\\"askForUpgrade('video')\\\"></i>\\n    </div>\\n  </div>\\n  <div class=\\\"avatar-place\\\">\\n    <img class='agent-img' [src]=\\\"getAvatar()\\\">\\n  </div>\\n  <div class=\\\"secondary-tools\\\">\\n    <i class=\\\"vvc-minimize\\\" *ngIf=\\\"!this.state.closed\\\" (click)=\\\"minimize.emit()\\\"></i>\\n    <i class=\\\"vvc-close\\\" (click)=\\\"close.emit(this.state.closed)\\\"></i>\\n  </div>\\n</div>\\n\\n<div class=\\\"welcome-msg\\\">\\n  <div class=\\\"msg-content\\\">\\n    <span class=\\\"msg\\\" [innerHTML]=\\\"'TOPBAR.WELCOME' | translate\\\">Welcome<br>you are talking with</span><br>\\n    <span class=\\\"agent-name\\\">{{ getAgentName() }}</span>\\n  </div>\\n</div>\\n\\n<div class=\\\"info-msg\\\">\\n  <span class=\\\"agent-name\\\" *ngIf=\\\"!state.isAgentWriting\\\">{{ getAgentName() }}</span>\\n  <span class=\\\"msg\\\" *ngIf=\\\"state.isAgentWriting\\\"><i class=\\\"vvc-chat\\\"></i> {{ 'TOPBAR.ISWRITING' | translate:{agent: getAgentName()} }}</span>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/topbar/topbar.component.html\n// module id = 210\n// module chunks = 1","import {EventEmitter, Injectable, NgZone} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {AppState, VvcWidgetState, VvcOffer} from './core.interfaces';\nimport {VvcDataCollectionService} from './dc.service';\n\n@Injectable()\nexport class VvcContactService {\n\n    vivocha;\n    agentInfo;\n    contact;\n    isWritingTimer;\n    isWritingTimeout = 30000;\n    mediaCallback;\n    incomingOffer: VvcOffer;\n    incomingId;\n    callStartedWith;\n    voiceStart = new EventEmitter();\n    private widgetState: VvcWidgetState;\n\n\n    constructor( private store: Store<AppState>,\n                 private zone: NgZone,\n                 private dcserv: VvcDataCollectionService) {\n       store.subscribe( state => {\n           this.widgetState = <VvcWidgetState> state.widgetState;\n       });\n    }\n    acceptOffer(opts) {\n        const diffOffer = this.incomingOffer;\n        this.callStartedWith = 'VOICE';\n        if (opts === 'voice-only' && diffOffer.Video) {\n            diffOffer.Video.tx = 'off';\n            this.callStartedWith = 'VIDEO';\n        }\n        if (opts === 'video-full' && diffOffer.Video) {\n            diffOffer.Video.tx = 'required'; // TODO CHECK FOR CAPS\n            this.callStartedWith = 'VIDEO';\n        }\n        this.mergeOffer(diffOffer);\n        this.dispatch({\n            type: 'UPDATE_MESSAGE',\n            payload: {\n                id: this.incomingId,\n                state: 'loading'\n            }\n        });\n    }\n    addLocalVideo() {\n        this.contact.getMediaOffer().then(mediaOffer => {\n            if (mediaOffer['Video']) {\n                mediaOffer['Video'].tx = 'required';\n            }\n            this.contact.offerMedia(mediaOffer);\n        });\n    }\n    askForUpgrade(media, startedWith) {\n        this.callStartedWith = startedWith;\n        this.dispatch({\n            type: 'MEDIA_OFFERING',\n            payload: true\n        });\n        if (media === startedWith) {\n            this.incomingId = new Date().getTime();\n            this.dispatch({\n                type: 'NEW_MESSAGE',\n                payload: {\n                    id: this.incomingId,\n                    media: this.callStartedWith,\n                    state: 'loading',\n                    type: 'incoming-request'\n                }\n            });\n        }\n        return this.contact.getMediaOffer().then(offer => {\n            if (media === 'VIDEO') {\n                offer.Video = {\n                    tx: 'required',\n                    rx: 'required',\n                    via: 'net',\n                    engine: 'WebRTC'\n                };\n            }\n            if (media === 'VIDEO' || media === 'VOICE') {\n                offer.Voice = {\n                    tx: 'required',\n                    rx: 'required',\n                    via: 'net',\n                    engine: 'WebRTC'\n                };\n            }\n            return this.contact.offerMedia(offer).then(() => {\n                this.dispatch({ type: 'MEDIA_OFFERING', payload: false });\n            }, (err) => {\n                let reason = 'REJECTED';\n                if (err === 'bad_state') {\n                    reason = 'FAILED';\n                }\n                this.dispatch({ type: 'MEDIA_OFFERING', payload: false });\n                this.dispatch({ type: 'REM_MESSAGE', payload: { id: this.incomingId } });\n                this.dispatch({\n                    type: 'NEW_MESSAGE',\n                    payload: {\n                        id: new Date().getTime(),\n                        type: 'incoming-request',\n                        media: this.callStartedWith,\n                        state: 'closed',\n                        extraClass: 'rejected',\n                        text: 'MESSAGES.REMOTE_' + this.callStartedWith + '_' + reason\n                    }\n                });\n            });\n        });\n    }\n    checkForTranscript() {\n        const transcript = this.contact.contact.transcript;\n        if (transcript && transcript.length > 0) {\n            this.dispatch({type: 'REDUCE_TOPBAR'});\n        }\n        for (const m in transcript) {\n            const msg = transcript[m];\n            switch (msg.type) {\n                case 'text':\n                    this.dispatch({type: 'NEW_MESSAGE', payload: {text: msg.body, type: 'chat', isAgent: msg.agent}});\n                    break;\n                case 'attachment':\n                    this.dispatch({type: 'NEW_MESSAGE', payload: {\n                        text: msg.meta.desc || msg.meta.originalName,\n                        type: 'chat',\n                        isAgent: msg.agent,\n                        meta: msg.meta,\n                        url: (msg.meta.originalUrl) ? msg.meta.originalUrl : msg.url,\n                        from_nick: msg.from_nick,\n                        from_id: msg.from_id\n                    }});\n                    break;\n            }\n        }\n    }\n    clearIsWriting() {\n        clearTimeout(this.isWritingTimer);\n        this.dispatch({type: 'REM_IS_WRITING'});\n        this.dispatch({type: 'AGENT_IS_WRITING', payload: false });\n    }\n    closeContact() {\n        this.contact.leave();\n    }\n    collectInitialData(conf) {\n        this.dcserv.loadDataCollection(conf.opts.dataCollection.dataToCollect).then( dc => {\n            this.dispatch({type: 'INITIAL_DATA', payload: dc });\n        });\n    }\n    createContact(conf) {\n        this.callStartedWith = conf.type.toUpperCase();\n        this.dispatch({type: 'INITIAL_OFFER', payload: { offer: conf.initial_offer, opts: conf.opts }});\n\n        this.vivocha.getContact(conf).then( contact => {\n            console.log('contact created, looking for the caps');\n            contact.getLocalCapabilities().then( caps => {\n                this.dispatch({type: 'LOCAL_CAPS', payload: caps });\n            });\n            contact.getRemoteCapabilities().then( caps => {\n                this.dispatch({type: 'REMOTE_CAPS', payload: caps });\n            });\n            this.contact = contact;\n            this.mapContact();\n            if (conf.type !== 'chat') {\n                this.voiceStart.emit();\n            }\n        }, (err) => {\n            console.log('Failed to create contact', err);\n        });\n\n    }\n    denyOffer(media) {\n        this.mediaCallback('error', {});\n        this.dispatch({\n            type: 'REM_MESSAGE',\n            payload: {\n                id: this.incomingId\n\n            }\n        });\n        this.dispatch({\n            type: 'NEW_MESSAGE',\n            payload: {\n                id: new Date().getTime(),\n                type: 'incoming-request',\n                media: media,\n                state: 'closed',\n                extraClass: 'rejected',\n                text: 'MESSAGES.' + media + '_REJECTED'\n            }\n        });\n    }\n    /*\n    diffOffer(currentOffer, incomingOffer, flat?) {\n        let hasAdded = false;\n        let hasChanged = false;\n        let hasRemoved = false;\n\n        let diff = { added: {}, changed: {}, removed: {} };\n        let flatDiff = { added: [], changed: [], removed: [] };\n        for (let m in incomingOffer){\n            if (currentOffer[m]){\n                let changed = false;\n                if (currentOffer[m].rx !== incomingOffer[m].rx) changed = true;\n                if (currentOffer[m].tx !== incomingOffer[m].tx) changed = true;\n                if (currentOffer[m].engine !== incomingOffer[m].engine) changed = true;\n                if (currentOffer[m].via !== incomingOffer[m].via) changed = true;\n                if (changed){\n                    hasChanged = true;\n                    diff.changed[m] = incomingOffer[m];\n                    flatDiff.changed.push(m);\n                }\n            }\n            else {\n                if(incomingOffer[m].rx !== \"off\") {\n                    hasAdded = true;\n                    diff.added[m] = incomingOffer[m];\n                    flatDiff.added.push(m);\n                }\n            }\n        }\n        for (let c in currentOffer){\n            if (!incomingOffer[c]){\n                hasRemoved = true;\n                diff.removed[c] = currentOffer[c];\n                flatDiff.removed.push(c);\n            }\n        }\n        if (!hasAdded) delete diff.added;\n        if (!hasChanged) delete diff.changed;\n        if (!hasRemoved) delete diff.removed;\n        return (flat) ? flatDiff : diff;\n    }\n    */\n    dispatch(action) {\n        this.zone.run( () => {\n            this.store.dispatch(action);\n        });\n    }\n    dispatchConnectionMessages(newMedia) {\n        const hasVoice = !!(newMedia['Voice'] &&\n                          newMedia['Voice']['data'] &&\n                          newMedia['Voice']['data']['tx_stream'] &&\n                          newMedia['Voice']['data']['rx_stream']);\n\n        if (!this.widgetState.voice && hasVoice) {\n            this.dispatch({ type: 'REM_MESSAGE', payload: { id: this.incomingId }});\n            this.dispatch({\n                type: 'NEW_MESSAGE',\n                payload: {\n                    id: new Date().getTime(),\n                    type: 'incoming-request',\n                    media: this.callStartedWith,\n                    state: 'closed',\n                    extraClass: 'accepted',\n                    text: 'MESSAGES.' + this.callStartedWith + '_STARTED'\n                }\n            });\n        }\n        if (this.widgetState.voice && !hasVoice) {\n            this.dispatch({\n                type: 'NEW_MESSAGE',\n                payload: {\n                    id: new Date().getTime(),\n                    type: 'incoming-request',\n                    media: this.callStartedWith,\n                    state: 'closed',\n                    extraClass: 'accepted',\n                    text: 'MESSAGES.' + this.callStartedWith + '_ENDED'\n                }\n            });\n        }\n    }\n    getUpgradeState(mediaObject) {\n        for (const m in mediaObject) {\n            mediaObject[m].rx = (mediaObject[m].rx !== 'off');\n            mediaObject[m].tx = (mediaObject[m].tx !== 'off');\n        }\n        return mediaObject;\n    }\n    fetchDataCollection(id) {\n        this.dcserv.loadDataCollection(id).then( dc => {\n            this.dispatch({ type: 'ADD_DATA_COLLECTION', payload: dc });\n            this.dispatch({\n                type: 'NEW_MESSAGE',\n                payload: {\n                    id: new Date().getTime(),\n                    type: 'incoming-request',\n                    media: 'DC',\n                    state: 'open',\n                    dataCollectionId: dc.id\n                    // dataCollection: dc\n                }\n            });\n        });\n    }\n    hangup() {\n        this.contact.getMediaOffer().then(mediaOffer => {\n            if (mediaOffer['Voice']) {\n                mediaOffer['Voice'].tx = 'off';\n                mediaOffer['Voice'].rx = 'off';\n            }\n            if (mediaOffer['Video']) {\n                mediaOffer['Video'].tx = 'off';\n                mediaOffer['Video'].rx = 'off';\n            }\n            this.contact.offerMedia(mediaOffer);\n        });\n    }\n    init(vivocha) {\n        this.vivocha = vivocha;\n    }\n    isIncomingRequest(offer): { askForConfirmation: boolean, offer: VvcOffer, media: string} {\n        const resp = { askForConfirmation : false, offer: {}, media: '' };\n        for (const i in offer) {\n            switch (i) {\n                case 'Voice':\n                    if (!this.widgetState[i.toLowerCase()]\n                        && offer[i]['tx'] !== 'off'\n                        && offer[i]['rx'] !== 'off') {\n                        resp.askForConfirmation = true;\n                        resp.offer[i] = offer[i];\n                    }\n                    break;\n                case 'Video':\n                    if (!this.widgetState[i.toLowerCase()]\n                        && ( offer[i]['tx'] !== 'off' || offer[i]['rx'] !== 'off')) {\n                        if (!this.widgetState['voice']) {\n                            resp.askForConfirmation = true;\n                        }\n                        resp.offer[i] = offer[i];\n                    }\n                    break;\n            }\n        }\n        if (resp.offer['Voice']) {\n            resp.media = 'VOICE';\n        }\n        if (resp.offer['Video']) {\n            resp.media = 'VIDEO';\n        }\n        return resp;\n    }\n    mapContact() {\n        console.log('mapping stuff on the contact');\n        this.contact.on('action', (action_code, args) => {\n            if (action_code === 'DataCollection') {\n                // this.showDataCollection(args[0].id);\n                this.fetchDataCollection(args[0].id);\n            }\n        });\n        this.contact.on('attachment', (url, meta, fromId, fromNick, isAgent) => {\n            const attachment = {url, meta, fromId, fromNick, isAgent};\n            this.dispatch({type: 'NEW_MESSAGE', payload: {\n                text: meta.desc || meta.originalName,\n                type: 'chat',\n                isAgent: isAgent,\n                meta: meta,\n                url: (meta.originalUrl) ? meta.originalUrl : url,\n                from_nick: fromNick,\n                from_id: fromId\n            }});\n\n        });\n        this.contact.on('capabilities', caps => {\n            this.dispatch({type: 'REMOTE_CAPS', payload: caps });\n        });\n        this.contact.on('iswriting', (from_id, from_nick, agent) => {\n            if (agent) {\n                this.setIsWriting();\n            }\n        });\n        this.contact.on('joined', (c) => {\n            if (c.user) {\n                this.onAgentJoin(c);\n            } else {\n                this.onLocalJoin(c);\n            }\n        });\n        this.contact.on('left', obj => {\n            console.log('LEFT', obj);\n            if (obj.channels && (obj.channels.user !== undefined) && obj.channels.user === 0) {\n                this.sendCloseMessage();\n            }\n        });\n        this.contact.on('localcapabilities', caps => {\n            this.dispatch({type: 'LOCAL_CAPS', payload: caps });\n        });\n        this.contact.on('localtext', (text) => {\n            this.dispatch({type: 'NEW_MESSAGE', payload: {text: text, type: 'chat', isAgent: false}});\n        });\n        this.contact.on('mediachange', (media, changed) => {\n            this.dispatchConnectionMessages(media);\n            this.dispatch({ type: 'MEDIA_CHANGE', payload: media });\n        });\n        this.contact.on('mediaoffer', (offer, cb) => {\n            this.onMediaOffer(offer, cb);\n        });\n        this.contact.on('text', (text, from_id, from_nick, agent ) => {\n            this.dispatch({type: 'REDUCE_TOPBAR'});\n            this.dispatch({type: 'NEW_MESSAGE', payload: {text: text, type: 'chat', isAgent: agent}});\n            if (this.widgetState.minimized) {\n                this.dispatch({type: 'INCREMENT_NOT_READ'});\n            }\n            this.playAudioNotification();\n            this.clearIsWriting();\n        });\n        this.contact.on('transferred', (transferred_to) => {\n            this.dispatch({\n                type: 'NEW_MESSAGE',\n                payload: {\n                    id: new Date().getTime(),\n                    type: 'incoming-request',\n                    media: 'TRANSFER',\n                    state: 'closed',\n                    extraClass: 'rejected',\n                    text: 'MESSAGES.TRANSFERRED'\n                }\n            });\n        });\n    }\n    mergeOffer (diffOffer) {\n        for (const m in diffOffer) {\n            if (m === 'Video' && diffOffer[m].tx === 'optional') {\n                diffOffer[m].tx = 'off';\n            }\n            diffOffer[m].rx = (diffOffer[m].rx !== 'off');\n            diffOffer[m].tx = (diffOffer[m].tx !== 'off');\n        }\n        this.contact.mergeMedia(diffOffer).then(mergedMedia => {\n            this.mediaCallback(undefined, mergedMedia);\n        });\n    }\n    muteAudio(muted) {\n        this.dispatch({ type: 'MUTE_IN_PROGRESS', payload: true });\n        this.contact.getMediaEngine('WebRTC').then( engine => {\n            if (muted) {\n                engine.muteLocalAudio();\n            } else {\n                engine.unmuteLocalAudio();\n            }\n            this.dispatch({ type: 'MUTE_IN_PROGRESS', payload: false });\n            this.dispatch({ type: 'MUTE', payload: muted });\n        });\n    }\n    onAgentJoin(join) {\n        this.contact.getMedia().then( (media) => {\n            const agent = { user: join.user, nick: join.nick, avatar: join.avatar};\n            this.agentInfo = agent;\n            this.dispatch({ type: 'JOINED', payload: agent });\n            this.dispatch({ type: 'MEDIA_CHANGE', payload: media });\n        });\n    }\n    onLocalJoin(join) {\n        if (join.reason && join.reason === 'resume') {\n            this.contact.getMedia().then((media) => {\n                const agent = this.contact.contact.agentInfo;\n                this.dispatch({ type: 'JOINED', payload: agent });\n                this.dispatch({ type: 'MEDIA_CHANGE', payload: media });\n                this.checkForTranscript();\n            });\n        }\n    }\n    onMediaOffer(offer, cb) {\n\n        this.mediaCallback = cb;\n        const confirmation = this.isIncomingRequest(offer);\n        if (confirmation.askForConfirmation) {\n            this.incomingId = new Date().getTime();\n            this.incomingOffer = confirmation.offer;\n            this.dispatch({\n                type: 'NEW_MESSAGE',\n                payload: {\n                    id: this.incomingId,\n                    media: confirmation.media,\n                    state: 'open',\n                    type: 'incoming-request',\n                    text: 'MESSAGES.' + confirmation.media + '_REQUEST'\n                }\n            });\n        } else {\n            this.mergeOffer(offer);\n        }\n    }\n    playAudioNotification() {\n        const notif = new Audio();\n        notif.src = 'assets/beep.mp3';\n        notif.load();\n        notif.play();\n    }\n    removeLocalVideo() {\n        this.contact.getMediaOffer().then(mediaOffer => {\n            if (mediaOffer['Video']) {\n                mediaOffer['Video'].tx = 'off';\n            }\n            this.contact.offerMedia(mediaOffer);\n        });\n    }\n    sendAttachment(msg) {\n        const ref = new Date().getTime();\n        this.contact.attach(msg.file, msg.text).then( () => {\n            this.dispatch({type: 'REM_MESSAGE', payload: {id: ref}});\n        }, () => {\n            this.dispatch({type: 'REM_MESSAGE', payload: {id: ref}});\n            /*\n            this.dispatch({ type: 'ADD_TEXT', payload: {\n                text: 'CHAT.FILE_TRANSFER_FAILED',\n                type: 'AGENT-INFO'\n            } });\n            */\n        });\n        this.dispatch({type: 'NEW_MESSAGE', payload: {id: ref, state: 'uploading', type: 'chat', isAgent: false}});\n    }\n    sendCloseMessage() {\n        this.dispatch({\n            type: 'NEW_MESSAGE',\n            payload: {\n                id: new Date().getTime(),\n                type: 'incoming-request',\n                media: 'AGENTCLOSE',\n                state: 'closed',\n                extraClass: 'rejected',\n                text: 'MESSAGES.REMOTE_CLOSE'\n            }\n        });\n        this.dispatch({\n            type: 'CLOSE_CONTACT',\n            payload: true\n        });\n    }\n    sendData(initialConf) {\n        setTimeout( () => {\n            console.log('sending data');\n            this.dispatch({ type: 'INITIAL_DATA_SENT' });\n            this.createContact(initialConf);\n        }, 1000);\n    }\n    sendDataCollection(obj) {\n        const dc = obj.dataCollection;\n        const message = obj.msg;\n\n        this.dispatch({\n            type: 'UPDATE_MESSAGE',\n            payload: {\n                id: message.id,\n                state: 'closed'\n            }\n        });\n        this.dispatch({\n            type: 'MERGE_DATA_COLLECTION',\n            payload: dc\n        });\n    }\n    sendText(text: string) {\n        this.contact.sendText(text);\n    }\n    setIsWriting() {\n        clearTimeout(this.isWritingTimer);\n        this.dispatch({type: 'AGENT_IS_WRITING', payload: true });\n        this.dispatch({type: 'NEW_MESSAGE', payload: { type: 'chat', state: 'iswriting', isAgent: true}});\n        this.isWritingTimer = setTimeout( () => {\n            this.dispatch({type: 'REM_IS_WRITING'});\n            this.dispatch({type: 'AGENT_IS_WRITING', payload: false });\n        }, this.isWritingTimeout);\n    }\n    showSurvey(surveyId, askForTranscript) {\n        this.dcserv.loadSurvey(surveyId, askForTranscript).then( (dc) => {\n            this.dispatch({ type: 'SHOW_SURVEY', payload: dc});\n        });\n\n    }\n    syncDataCollection(dataCollection) {\n        this.dispatch({\n            type: 'MERGE_DATA_COLLECTION',\n            payload: dataCollection\n        });\n    }\n    upgradeMedia(upgradeState) {\n        this.contact.mergeMedia(this.getUpgradeState(upgradeState)).then( (mergedMedia) => {\n            if (this.mediaCallback) {\n                this.mediaCallback(null, mergedMedia);\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/contact.service.ts","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/delay';\n\n@Injectable()\nexport class VvcDataCollectionService {\n\n    private initialDataCollection = {\n        saveButton : 'DC.D1.SUBMIT',\n        dataTitle: 'DC.D1.DATA_TITLE',\n        dataDescr: 'DC.D1.DATA_DESCRIPTION',\n        data: [\n            { id: 'name', name: 'DC.D1.NAME', type: 'text', required: true, placeholder: 'DC.D1.NAME_PH'},\n            { id: 'surname', name: 'DC.D1.SURNAME', type: 'text', required: true, placeholder: 'DC.D1.SURNAME_PH'},\n            { id: 'email', name: 'DC.D1.EMAIL', type: 'email', required: true, placeholder: 'DC.D1.EMAIL_PH'},\n        ]\n    };\n    private survey = {\n        saveButton : 'SURVEY.SUBMIT',\n        dataTitle: 'SURVEY.TITLE',\n        data: [\n            { id: 'rating', type: 'rating-bar', required: true, name: 'SURVEY.RATING' },\n            { id: 'email', type: 'email', name: 'SURVEY.EMAIL', placeholder: 'SURVEY.EMAIL_PH'}\n        ]\n    };\n    private blockDataCollection = {\n        mode: 'block',\n        saveButton : 'DC.D1.SUBMIT',\n        dataTitle: 'DC.D1.DATA_TITLE',\n        dataDescr: 'DC.D1.DATA_DESCRIPTION',\n        data: [\n            { id: 'name', name: 'DC.D1.NAME', type: 'text', required: true, placeholder: 'DC.D1.NAME_PH'},\n            { id: 'surname', name: 'DC.D1.SURNAME', type: 'text', required: true, placeholder: 'DC.D1.SURNAME_PH'},\n            { id: 'email', name: 'DC.D1.EMAIL', type: 'email', required: true, placeholder: 'DC.D1.EMAIL_PH'},\n        ]\n    };\n    private inlineDataCollection = {\n        mode: 'inline',\n        saveButton : 'DC.D1.SUBMIT',\n        dataTitle: 'DC.D1.DATA_TITLE',\n        data: [\n            { id: 'name', name: 'DC.D1.NAME', type: 'text', required: true, placeholder: 'DC.D1.NAME_PH'}\n        ]\n    };\n    constructor() {\n\n    }\n\n    loadDataCollection(dcId) {\n        let dc;\n        switch (dcId) {\n            case 'dc#inline' :\n                dc = this.inlineDataCollection;\n                break;\n            case 'dc#block'  :\n                dc = this.blockDataCollection;\n                break;\n            case 'schema#data-id':\n                dc = this.initialDataCollection;\n                break;\n            case 'schema#survey-id' :\n                dc = this.survey;\n                break;\n        }\n        dc['id'] = dcId;\n        return Observable.of(dc).delay(1000).toPromise();\n    }\n    loadSurvey(dcId, askForTranscript) {\n        let dc;\n        dc = this.survey;\n        dc['id'] = dcId;\n        return Observable.of(dc).delay(1000).toPromise();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/dc.service.ts","import {Injectable} from '@angular/core';\n\nfunction _window(): any {\n    return window;\n}\n\n@Injectable()\nexport class WindowRef {\n    get nativeWindow(): any {\n        return _window();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/window.service.ts","import {\n  Component, Input, Output, EventEmitter, ChangeDetectionStrategy,\n   ViewChild\n} from '@angular/core';\nimport {VvcWidgetState} from '../core/core.interfaces';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n\n@Component({\n  selector: 'vvc-media-tools',\n  templateUrl: './media-tools.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MediaToolsComponent {\n\n  @ViewChild('theTimer') theTimer;\n  @Input() state: VvcWidgetState;\n  @Output() hangup = new EventEmitter();\n  @Output() addvideo = new EventEmitter();\n  @Output() remvideo = new EventEmitter();\n  @Output() maximize = new EventEmitter();\n  @Output() mute = new EventEmitter();\n  constructor(private sanitizer: DomSanitizer) { }\n\n  setTime(time) {\n    const date = new Date(null);\n    date.setSeconds(time);\n    this.theTimer.nativeElement.innerHTML = date.toISOString().substr(11, 8);\n  }\n  trustedSrc(url) {\n    return this.sanitizer.bypassSecurityTrustUrl(url);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/media-tools/media-tools.component.ts"],"sourceRoot":""}